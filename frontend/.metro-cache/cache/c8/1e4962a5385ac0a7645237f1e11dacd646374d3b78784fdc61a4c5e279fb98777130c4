{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":42,"index":132}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"./AuthContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":178},"end":{"line":4,"column":40,"index":218}}],"key":"YmpzODa+dVz64UAAYTI+RwJeEt0=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/contexts/BabyContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useBaby\", {\n    enumerable: true,\n    get: function () {\n      return useBaby;\n    }\n  });\n  Object.defineProperty(exports, \"BabyProvider\", {\n    enumerable: true,\n    get: function () {\n      return BabyProvider;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _servicesApi = require(_dependencyMap[1], \"../services/api\");\n  var _AuthContext = require(_dependencyMap[2], \"./AuthContext\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const BabyContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const useBaby = () => {\n    const context = (0, _react.useContext)(BabyContext);\n    if (!context) {\n      throw new Error('useBaby must be used within a BabyProvider');\n    }\n    return context;\n  };\n  const BabyProvider = ({\n    children\n  }) => {\n    const {\n      isAuthenticated\n    } = (0, _AuthContext.useAuth)();\n    const [baby, setBaby] = (0, _react.useState)(null);\n    const [babies, setBabies] = (0, _react.useState)([]);\n    const [isLoading, setIsLoading] = (0, _react.useState)(false);\n    const refreshBabies = async () => {\n      if (!isAuthenticated) return;\n      try {\n        setIsLoading(true);\n        const data = await _servicesApi.babyApi.getAll();\n        setBabies(data);\n\n        // Auto-select first baby if none selected\n        if (data.length > 0 && !baby) {\n          setBaby(data[0]);\n        } else if (baby) {\n          // Refresh current baby data\n          const updated = data.find(b => b.baby_id === baby.baby_id);\n          if (updated) {\n            setBaby(updated);\n          } else if (data.length > 0) {\n            setBaby(data[0]);\n          } else {\n            setBaby(null);\n          }\n        }\n      } catch (error) {\n        console.error('Failed to fetch babies:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    (0, _react.useEffect)(() => {\n      if (isAuthenticated) {\n        refreshBabies();\n      } else {\n        setBabies([]);\n        setBaby(null);\n      }\n    }, [isAuthenticated]);\n    const createBaby = async data => {\n      const newBaby = await _servicesApi.babyApi.create(data);\n      await refreshBabies();\n      setBaby(newBaby);\n      return newBaby;\n    };\n    const updateBaby = async (babyId, data) => {\n      const updated = await _servicesApi.babyApi.update(babyId, data);\n      await refreshBabies();\n      return updated;\n    };\n    const deleteBaby = async babyId => {\n      await _servicesApi.babyApi.delete(babyId);\n      await refreshBabies();\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(BabyContext.Provider, {\n      value: {\n        baby,\n        babies,\n        isLoading,\n        setBaby,\n        createBaby,\n        updateBaby,\n        deleteBaby,\n        refreshBabies\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 5\n    }, this);\n  };\n});","lineCount":109,"map":[[8,2,19,0,"Object"],[8,8,19,0],[8,9,19,0,"defineProperty"],[8,23,19,0],[8,24,19,0,"exports"],[8,31,19,0],[9,4,19,0,"enumerable"],[9,14,19,0],[10,4,19,0,"get"],[10,7,19,0],[10,18,19,0,"get"],[10,19,19,0],[11,6,19,0],[11,13,19,0,"useBaby"],[11,20,19,0],[12,4,19,0],[13,2,19,0],[14,2,31,0,"Object"],[14,8,31,0],[14,9,31,0,"defineProperty"],[14,23,31,0],[14,24,31,0,"exports"],[14,31,31,0],[15,4,31,0,"enumerable"],[15,14,31,0],[16,4,31,0,"get"],[16,7,31,0],[16,18,31,0,"get"],[16,19,31,0],[17,6,31,0],[17,13,31,0,"BabyProvider"],[17,25,31,0],[18,4,31,0],[19,2,31,0],[20,2,1,0],[20,6,1,0,"_react"],[20,12,1,0],[20,15,1,0,"require"],[20,22,1,0],[20,23,1,0,"_dependencyMap"],[20,37,1,0],[21,2,2,0],[21,6,2,0,"_servicesApi"],[21,18,2,0],[21,21,2,0,"require"],[21,28,2,0],[21,29,2,0,"_dependencyMap"],[21,43,2,0],[22,2,4,0],[22,6,4,0,"_AuthContext"],[22,18,4,0],[22,21,4,0,"require"],[22,28,4,0],[22,29,4,0,"_dependencyMap"],[22,43,4,0],[23,2,4,40],[23,6,4,40,"_reactJsxDevRuntime"],[23,25,4,40],[23,28,4,40,"require"],[23,35,4,40],[23,36,4,40,"_dependencyMap"],[23,50,4,40],[24,2,17,0],[24,8,17,6,"BabyContext"],[24,19,17,17],[24,35,17,20],[24,39,17,20,"createContext"],[24,45,17,33],[24,46,17,33,"createContext"],[24,59,17,33],[24,61,17,63,"undefined"],[24,70,17,72],[24,71,17,73],[25,2,19,7],[25,8,19,13,"useBaby"],[25,15,19,20],[25,18,19,23,"useBaby"],[25,19,19,23],[25,24,19,29],[26,4,20,2],[26,10,20,8,"context"],[26,17,20,15],[26,20,20,18],[26,24,20,18,"useContext"],[26,30,20,28],[26,31,20,28,"useContext"],[26,41,20,28],[26,43,20,29,"BabyContext"],[26,54,20,40],[26,55,20,41],[27,4,21,2],[27,8,21,6],[27,9,21,7,"context"],[27,16,21,14],[27,18,21,16],[28,6,22,4],[28,12,22,10],[28,16,22,14,"Error"],[28,21,22,19],[28,22,22,20],[28,66,22,64],[28,67,22,65],[29,4,23,2],[30,4,24,2],[30,11,24,9,"context"],[30,18,24,16],[31,2,25,0],[31,3,25,1],[32,2,31,7],[32,8,31,13,"BabyProvider"],[32,20,31,54],[32,23,31,57,"BabyProvider"],[32,24,31,58],[33,4,31,60,"children"],[34,2,31,69],[34,3,31,70],[34,8,31,75],[35,4,32,2],[35,10,32,8],[36,6,32,10,"isAuthenticated"],[37,4,32,26],[37,5,32,27],[37,8,32,30],[37,12,32,30,"useAuth"],[37,24,32,37],[37,25,32,37,"useAuth"],[37,32,32,37],[37,34,32,38],[37,35,32,39],[38,4,33,2],[38,10,33,8],[38,11,33,9,"baby"],[38,15,33,13],[38,17,33,15,"setBaby"],[38,24,33,22],[38,25,33,23],[38,28,33,26],[38,32,33,26,"useState"],[38,38,33,34],[38,39,33,34,"useState"],[38,47,33,34],[38,49,33,48],[38,53,33,52],[38,54,33,53],[39,4,34,2],[39,10,34,8],[39,11,34,9,"babies"],[39,17,34,15],[39,19,34,17,"setBabies"],[39,28,34,26],[39,29,34,27],[39,32,34,30],[39,36,34,30,"useState"],[39,42,34,38],[39,43,34,38,"useState"],[39,51,34,38],[39,53,34,47],[39,55,34,49],[39,56,34,50],[40,4,35,2],[40,10,35,8],[40,11,35,9,"isLoading"],[40,20,35,18],[40,22,35,20,"setIsLoading"],[40,34,35,32],[40,35,35,33],[40,38,35,36],[40,42,35,36,"useState"],[40,48,35,44],[40,49,35,44,"useState"],[40,57,35,44],[40,59,35,45],[40,64,35,50],[40,65,35,51],[41,4,37,2],[41,10,37,8,"refreshBabies"],[41,23,37,21],[41,26,37,24],[41,32,37,24,"refreshBabies"],[41,33,37,24],[41,38,37,36],[42,6,38,4],[42,10,38,8],[42,11,38,9,"isAuthenticated"],[42,26,38,24],[42,28,38,26],[43,6,40,4],[43,10,40,8],[44,8,41,6,"setIsLoading"],[44,20,41,18],[44,21,41,19],[44,25,41,23],[44,26,41,24],[45,8,42,6],[45,14,42,12,"data"],[45,18,42,16],[45,21,42,19],[45,27,42,25,"babyApi"],[45,39,42,32],[45,40,42,32,"babyApi"],[45,47,42,32],[45,48,42,33,"getAll"],[45,54,42,39],[45,55,42,40],[45,56,42,41],[46,8,43,6,"setBabies"],[46,17,43,15],[46,18,43,16,"data"],[46,22,43,20],[46,23,43,21],[48,8,45,6],[49,8,46,6],[49,12,46,10,"data"],[49,16,46,14],[49,17,46,15,"length"],[49,23,46,21],[49,26,46,24],[49,27,46,25],[49,31,46,29],[49,32,46,30,"baby"],[49,36,46,34],[49,38,46,36],[50,10,47,8,"setBaby"],[50,17,47,15],[50,18,47,16,"data"],[50,22,47,20],[50,23,47,21],[50,24,47,22],[50,25,47,23],[50,26,47,24],[51,8,48,6],[51,9,48,7],[51,15,48,13],[51,19,48,17,"baby"],[51,23,48,21],[51,25,48,23],[52,10,49,8],[53,10,50,8],[53,16,50,14,"updated"],[53,23,50,21],[53,26,50,24,"data"],[53,30,50,28],[53,31,50,29,"find"],[53,35,50,33],[53,36,50,34,"b"],[53,37,50,35],[53,41,50,39,"b"],[53,42,50,40],[53,43,50,41,"baby_id"],[53,50,50,48],[53,55,50,53,"baby"],[53,59,50,57],[53,60,50,58,"baby_id"],[53,67,50,65],[53,68,50,66],[54,10,51,8],[54,14,51,12,"updated"],[54,21,51,19],[54,23,51,21],[55,12,52,10,"setBaby"],[55,19,52,17],[55,20,52,18,"updated"],[55,27,52,25],[55,28,52,26],[56,10,53,8],[56,11,53,9],[56,17,53,15],[56,21,53,19,"data"],[56,25,53,23],[56,26,53,24,"length"],[56,32,53,30],[56,35,53,33],[56,36,53,34],[56,38,53,36],[57,12,54,10,"setBaby"],[57,19,54,17],[57,20,54,18,"data"],[57,24,54,22],[57,25,54,23],[57,26,54,24],[57,27,54,25],[57,28,54,26],[58,10,55,8],[58,11,55,9],[58,17,55,15],[59,12,56,10,"setBaby"],[59,19,56,17],[59,20,56,18],[59,24,56,22],[59,25,56,23],[60,10,57,8],[61,8,58,6],[62,6,59,4],[62,7,59,5],[62,8,59,6],[62,15,59,13,"error"],[62,20,59,18],[62,22,59,20],[63,8,60,6,"console"],[63,15,60,13],[63,16,60,14,"error"],[63,21,60,19],[63,22,60,20],[63,47,60,45],[63,49,60,47,"error"],[63,54,60,52],[63,55,60,53],[64,6,61,4],[64,7,61,5],[64,16,61,14],[65,8,62,6,"setIsLoading"],[65,20,62,18],[65,21,62,19],[65,26,62,24],[65,27,62,25],[66,6,63,4],[67,4,64,2],[67,5,64,3],[68,4,66,2],[68,8,66,2,"useEffect"],[68,14,66,11],[68,15,66,11,"useEffect"],[68,24,66,11],[68,26,66,12],[68,32,66,18],[69,6,67,4],[69,10,67,8,"isAuthenticated"],[69,25,67,23],[69,27,67,25],[70,8,68,6,"refreshBabies"],[70,21,68,19],[70,22,68,20],[70,23,68,21],[71,6,69,4],[71,7,69,5],[71,13,69,11],[72,8,70,6,"setBabies"],[72,17,70,15],[72,18,70,16],[72,20,70,18],[72,21,70,19],[73,8,71,6,"setBaby"],[73,15,71,13],[73,16,71,14],[73,20,71,18],[73,21,71,19],[74,6,72,4],[75,4,73,2],[75,5,73,3],[75,7,73,5],[75,8,73,6,"isAuthenticated"],[75,23,73,21],[75,24,73,22],[75,25,73,23],[76,4,75,2],[76,10,75,8,"createBaby"],[76,20,75,18],[76,23,75,21],[76,29,75,28,"data"],[76,33,75,44],[76,37,75,64],[77,6,76,4],[77,12,76,10,"newBaby"],[77,19,76,17],[77,22,76,20],[77,28,76,26,"babyApi"],[77,40,76,33],[77,41,76,33,"babyApi"],[77,48,76,33],[77,49,76,34,"create"],[77,55,76,40],[77,56,76,41,"data"],[77,60,76,45],[77,61,76,46],[78,6,77,4],[78,12,77,10,"refreshBabies"],[78,25,77,23],[78,26,77,24],[78,27,77,25],[79,6,78,4,"setBaby"],[79,13,78,11],[79,14,78,12,"newBaby"],[79,21,78,19],[79,22,78,20],[80,6,79,4],[80,13,79,11,"newBaby"],[80,20,79,18],[81,4,80,2],[81,5,80,3],[82,4,82,2],[82,10,82,8,"updateBaby"],[82,20,82,18],[82,23,82,21],[82,29,82,21,"updateBaby"],[82,30,82,28,"babyId"],[82,36,82,42],[82,38,82,44,"data"],[82,42,82,69],[82,47,82,89],[83,6,83,4],[83,12,83,10,"updated"],[83,19,83,17],[83,22,83,20],[83,28,83,26,"babyApi"],[83,40,83,33],[83,41,83,33,"babyApi"],[83,48,83,33],[83,49,83,34,"update"],[83,55,83,40],[83,56,83,41,"babyId"],[83,62,83,47],[83,64,83,49,"data"],[83,68,83,53],[83,69,83,54],[84,6,84,4],[84,12,84,10,"refreshBabies"],[84,25,84,23],[84,26,84,24],[84,27,84,25],[85,6,85,4],[85,13,85,11,"updated"],[85,20,85,18],[86,4,86,2],[86,5,86,3],[87,4,88,2],[87,10,88,8,"deleteBaby"],[87,20,88,18],[87,23,88,21],[87,29,88,28,"babyId"],[87,35,88,42],[87,39,88,62],[88,6,89,4],[88,12,89,10,"babyApi"],[88,24,89,17],[88,25,89,17,"babyApi"],[88,32,89,17],[88,33,89,18,"delete"],[88,39,89,24],[88,40,89,25,"babyId"],[88,46,89,31],[88,47,89,32],[89,6,90,4],[89,12,90,10,"refreshBabies"],[89,25,90,23],[89,26,90,24],[89,27,90,25],[90,4,91,2],[90,5,91,3],[91,4,93,2],[91,24,94,4],[91,28,94,4,"_reactJsxDevRuntime"],[91,47,94,4],[91,48,94,4,"jsxDEV"],[91,54,94,4],[91,56,94,5,"BabyContext"],[91,67,94,16],[91,68,94,17,"Provider"],[91,76,94,25],[92,6,95,6,"value"],[92,11,95,11],[92,13,95,13],[93,8,96,8,"baby"],[93,12,96,12],[94,8,97,8,"babies"],[94,14,97,14],[95,8,98,8,"isLoading"],[95,17,98,17],[96,8,99,8,"setBaby"],[96,15,99,15],[97,8,100,8,"createBaby"],[97,18,100,18],[98,8,101,8,"updateBaby"],[98,18,101,18],[99,8,102,8,"deleteBaby"],[99,18,102,18],[100,8,103,8,"refreshBabies"],[101,6,104,6],[101,7,104,8],[102,6,104,8,"children"],[102,14,104,8],[102,16,106,7,"children"],[103,4,106,15],[104,6,106,15,"fileName"],[104,14,106,15],[104,16,106,15,"_jsxFileName"],[104,28,106,15],[105,6,106,15,"lineNumber"],[105,16,106,15],[106,6,106,15,"columnNumber"],[106,18,106,15],[107,4,106,15],[107,11,107,26],[107,12,107,27],[108,2,109,0],[108,3,109,1],[109,0,109,2],[109,3]],"functionMap":{"names":["<global>","useBaby","BabyProvider","refreshBabies","data.find$argument_0","useEffect$argument_0","createBaby","updateBaby","deleteBaby"],"mappings":"AAA;uBCkB;CDM;yDEM;wBCM;kCCa,+BD;GDc;YGE;GHO;qBIE;GJK;qBKE;GLI;qBME;GNG;CFkB"},"hasCjsExports":false},"type":"js/module"}]}